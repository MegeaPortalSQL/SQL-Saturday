<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, shrink-to-fit=no, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>ABA Framework Doc</title>

    <!-- Libraries -->

    <!-- In Folder -->
    <script src="jquery.min.js"></script>
    <script src="table-export.js"></script>
    <script src="bootstrap.min.js"></script>
    <script src="bootstrap-table.js"></script>
    <script src="bootstrap-table-export.js"></script>
    <script src="bootstrap-table-filter.js"></script>
    <script src="bootstrap-table-editable.js"></script>
    <script src="bootstrap-table-fixedcolumn.js"></script>

    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="font-awesome.min.css">
    <link rel="stylesheet" href="bootstrap-table.min.css">
    <link rel="stylesheet" href="bootstrap-table-fixedcolumn.css">
    <link rel="stylesheet" href="bootstrap-table-editable.css">

    <!-- End libraries -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
        .nav-side-menu {
            overflow: auto;
            font-family: verdana;
            font-size: 12px;
            font-weight: 200;
            background-color: #2e353d;
            position: fixed;
            top: 0px;
            width: 300px;
            height: 100%;
            color: #e1ffff;
        }

            .nav-side-menu .brand {
                background-color: #23282e;
                line-height: 50px;
                display: block;
                text-align: center;
                font-size: 14px;
            }

            .nav-side-menu .toggle-btn {
                display: none;
            }

            .nav-side-menu ul,
            .nav-side-menu li {
                list-style: none;
                padding: 0px;
                margin: 0px;
                line-height: 35px;
                cursor: pointer;
            }

                .nav-side-menu ul :not(collapsed) .arrow:before,
                .nav-side-menu li :not(collapsed) .arrow:before {
                    font-family: FontAwesome;
                    content: "\f078";
                    display: inline-block;
                    padding-left: 10px;
                    padding-right: 10px;
                    vertical-align: middle;
                    float: right;
                }

                .nav-side-menu ul .active,
                .nav-side-menu li .active {
                    border-left: 3px solid #d19b3d;
                    background-color: #4f5b69;
                }

                .nav-side-menu ul .sub-menu li.active,
                .nav-side-menu li .sub-menu li.active {
                    color: #d19b3d;
                }

                    .nav-side-menu ul .sub-menu li.active a,
                    .nav-side-menu li .sub-menu li.active a {
                        color: #d19b3d;
                    }

                .nav-side-menu ul .sub-menu li,
                .nav-side-menu li .sub-menu li {
                    background-color: #181c20;
                    border: none;
                    line-height: 28px;
                    border-bottom: 1px solid #23282e;
                    margin-left: 0px;
                }

                    .nav-side-menu ul .sub-menu li:hover,
                    .nav-side-menu li .sub-menu li:hover {
                        background-color: #020203;
                    }

                    .nav-side-menu ul .sub-menu li:before,
                    .nav-side-menu li .sub-menu li:before {
                        font-family: FontAwesome;
                        content: "\f105";
                        display: inline-block;
                        padding-left: 10px;
                        padding-right: 10px;
                        vertical-align: middle;
                    }

            .nav-side-menu li {
                padding-left: 0px;
                border-left: 3px solid #2e353d;
                border-bottom: 1px solid #23282e;
            }

                .nav-side-menu li a {
                    text-decoration: none;
                    color: #e1ffff;
                }

                    .nav-side-menu li a i {
                        padding-left: 10px;
                        width: 20px;
                        padding-right: 20px;
                    }

                .nav-side-menu li:hover {
                    border-left: 3px solid #d19b3d;
                    background-color: #4f5b69;
                    -webkit-transition: all 1s ease;
                    -moz-transition: all 1s ease;
                    -o-transition: all 1s ease;
                    -ms-transition: all 1s ease;
                    transition: all 1s ease;
                }

        @media (max-width: 767px) {
            .nav-side-menu {
                position: relative;
                width: 100%;
                margin-bottom: 10px;
            }

                .nav-side-menu .toggle-btn {
                    display: block;
                    cursor: pointer;
                    position: absolute;
                    right: 10px;
                    top: 10px;
                    z-index: 10 !important;
                    padding: 3px;
                    background-color: #ffffff;
                    color: #000;
                    width: 40px;
                    text-align: center;
                }

            .brand {
                text-align: left !important;
                font-size: 22px;
                padding-left: 20px;
                line-height: 50px !important;
            }
        }

        @media (min-width: 767px) {
            .nav-side-menu .menu-list .menu-content {
                display: block;
            }

            #main {
                width: calc(100% - 300px);
                float: right;
                max-width: calc(100% - 300px);
                overflow: hidden;
                overflow-x: scroll;
                padding-bottom: 40px;
            }
        }

        body {
            margin: 0px;
            padding: 0px;
        }

        .modal-body {
            max-height: 400px;
            overflow-y: auto;
        }

        pre {
            max-height: 300px;
        }
    </style>
    <script>
        function itemClick(element) {
            $('.tab').hide();
            $('#tab' + element).show();
            $('.nav-side-menu li').removeClass('active');
            $('#' + element).addClass('active');
            if ($('.toggle-btn').css('display') != 'none') {
                $('.toggle-btn').click()
            }

        }
        $(document).ready(function () {
          $('.tab').hide();
          $('#tabhome').show();

        });

    </script>
</head>
<body>
    <div class="nav-side-menu">
        <div class="brand">ABA Framework</div>
        <i class="fa fa-navicon fa-2x toggle-btn" data-toggle="collapse" data-target="#menu-content"></i>
        <div class="menu-list">
            <ul id="menu-content" class="menu-content collapse out">
                <li id="home" onclick="itemClick(this.id)">
                    <a href="#"><i class="fa fa-home fa-lg"></i> Home </a>
                </li>
                <li data-toggle="collapse" data-target="#extraction" class="collapsed">
                    <a href="#"><i class="fa fa-file fa-lg"></i>Extraction phase<span class="arrow"></span></a>
                </li>
                <ul class="sub-menu collapse" id="extraction">
                    <li id="tablas_cargadas" onclick="itemClick(this.id)">Loaded tables</li>
                    <li id="connections" onclick="itemClick(this.id)">Connections</li>
                    <li id="use_pattern" onclick="itemClick(this.id)">Load patterns</li>
                    <li id="tipo_datos" onclick="itemClick(this.id)">Data types source vs stg</li>
                    <li id="pk_origen" onclick="itemClick(this.id)">Source Primary keys</li>
                    <li id="active_for" onclick="itemClick(this.id)">Active For</li>
                </ul>
                <li data-toggle="collapse" data-target="#load" class="collapsed">
                    <a href="#"><i class="fa fa-database fa-lg"></i> Load phase <span class="arrow"></span></a>
                </li>
                <ul class="sub-menu collapse" id="load">
                    <li id="dimensiones" onclick="itemClick(this.id)">Dimensions</li>
                    <li id="facts" onclick="itemClick(this.id)">Facts</li>
                    <li id="scd" onclick="itemClick(this.id)">SCD</li>
                   <!-- <li id="tipo_datos_dwh" onclick="itemClick(this.id)">Data types source vs dwh</li> -->

                </ul>
                <li id="unit_test" onclick="itemClick(this.id)">
                    <a href="#"><i class="fa fa-pie-chart fa-lg"></i> Unit Tests </a>
                </li>
                <li id="log_objects" onclick="itemClick(this.id)">
                    <a href="#"><i class="fa fa-table fa-lg"></i> Log Table </a>
                </li>

            </ul>
        </div>
    </div>
    <div class="container" id="main">
        <div class="row">
            <div class="col-md-12">
                <div id="page-content-wrapper">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="tab-content">
                                    <div class="tab" id="tabhome">
                                        <div class="row">
                                            <div class="col-lg-8">
                                                <h2>ABA Framework Documentation</h2>
                                            </div>
                                            <div class="col-lg-4">
                                                <img src="http://www.solidq.com/wp-content/uploads/2015/06/Logo-SolidQ-Web.gif" class="img-responsive" alt="solidQ Logo" />
                                            </div>
                                        </div>
                                        <br /><hr /><br />
                                        {% if idActualProject > 0 %}
                                        <h4>Documentation generated using the metadata with the selected idProject({{idActualProject}}) from {{Name}} database.</h4>
                                        {% else %}
                                        <h4>Documentation generated using the metadata from {{Name}} database.</h4>
                                        {% endif %}
                                        <p id="date">Documentation created: {{date}}</p>

                                    </div>
                                    <!-- FASE EXTRACCIÓN-->
                                    <div class="tab" id="tabconnections">
                                        <h2>Conexiones</h2>
                                        <table id="table-connections"
                                               data-show-columns="true"
                                               data-pagination="true"
                                               data-classes="table table-no-bordered"
                                               data-sort-name="name"
                                               data-sort-order="asc"
                                               data-striped="true"
                                               data-search="true"
                                               data-show-footer="true"
                                               data-show-export="true"
                                               data-show-pagination-switch="true"
                                               data-filter-control="true"
                                               data-page-list="[5,10, 25, 50, 100]"
                                               data-page-size="10">
                                            <thead>
                                                <tr>
                                                    <!-- <th  data-field="caption" data-sortable="true">Caption</th> -->
                                                    <th data-field="connection_name" data-filter-control="input" data-sortable="true">Connection name</th>
                                                    <th data-field="connection_string" data-filter-control="input" data-sortable="true">Connection string</th>
                                                    <th data-field="db_schemas" data-filter-control="input" data-sortable="true">DB Schemas</th>
                                                </tr>
                                            </thead>
                                        </table>
                                        <br />
                                        <p><strong>Information Source DB: </strong>{{Name}}_MD</p>
                                        <p><strong>Information Source Table: </strong>md.Connections</p>
                                        <br /><hr /><br />
                                    </div> <!-- conexiones -->
                                    <div class="tab" id="tabtablas_cargadas">
                                        <h2>Loaded tables</h2>
                                        <table id="table-loadedtables"
                                               data-show-columns="true"
                                               data-pagination="true"
                                               data-classes="table table-no-bordered"
                                               data-sort-name="name"
                                               data-sort-order="asc"
                                               data-striped="true"
                                               data-search="true"
                                               data-show-footer="true"
                                               data-show-export="true"
                                               data-show-pagination-switch="true"
                                               data-filter-control="true"
                                               data-page-list="[5,10, 25, 50, 100]"
                                               data-page-size="10">
                                            <thead>
                                                <tr>
                                                    <!-- <th  data-field="caption" data-sortable="true">Caption</th> -->
                                                    <th data-field="source_object_schema" data-filter-control="select" data-sortable="true">Source object</br>schema</th>
                                                    <th data-field="source_object_name" data-filter-control="input" data-sortable="true">Source object</br>name</th>
                                                    <th data-field="destination_table_schema" data-filter-control="select" data-sortable="true">Destination table</br>schema</th>
                                                    <th data-field="destination_table_name" data-filter-control="input" data-sortable="true">Destination table</br>name</th>
                                                    <th data-field="source_type_id" data-filter-control="select" data-sortable="true">Source</br>type id</th>
                                                    <th data-field="helper_id" data-filter-control="select" data-sortable="true">Helper id</th>
                                                    <th data-field="staging_id" data-filter-control="select" data-sortable="true">STGId</th>
                                                </tr>
                                            </thead>
                                        </table>
                                        <br />
                                        <p><strong>Information Source DB: </strong>{{Name}}_MD</p>
                                        <p><strong>Information Source Table: </strong>md.extract_phase_info</p>
                                        <hr /><br />
                                        <a href="{{wiki_url}}/etl-with-aba-framework/extraction" target="_blank" type="button" class="btn btn-primary btn-block">Wiki Extraction Phase</a>
                                    </div> <!-- tablas cargadas -->
                                    <div class="tab" id="tabuse_pattern">
                                        <h2>Load patterns</h2>
                                        <table id="table-loadpatterns"
                                               data-show-columns="true"
                                               data-pagination="true"
                                               data-classes="table table-no-bordered"
                                               data-sort-name="name"
                                               data-sort-order="asc"
                                               data-striped="true"
                                               data-search="true"
                                               data-show-footer="true"
                                               data-show-export="true"
                                               data-show-pagination-switch="true"
                                               data-filter-control="true"
                                               data-page-list="[5,10, 25, 50, 100]"
                                               data-page-size="10">
                                            <thead>
                                                <tr>
                                                    <!-- <th  data-field="caption" data-sortable="true">Caption</th> -->
                                                    <th data-field="source_object_schema" data-filter-control="select" data-sortable="true">Source object schema</th>
                                                    <th data-field="source_object_name" data-filter-control="input" data-sortable="true">Source object name</th>
                                                    <th data-field="load_pattern_id" data-filter-control="select" data-sortable="true">Load pattern id</th>
                                                    <th data-field="load_pattern" data-filter-control="select" data-sortable="true">Load pattern</th>
                                                </tr>
                                            </thead>
                                        </table>
                                        <br />
                                        <p><strong>Information Source DB: </strong>{{Name}}_MD</p>
                                        <p><strong>Information Source Table: </strong>md.extract_phase_info</p>
                                        <br /><hr /><br />
                                    </div> <!--use pattern-->
                                    <div class="tab" id="tabtipo_datos">
                                        <h2>Data types source vs stg</h2>
                                        <table id="table-datatypes"
                                               data-show-columns="true"
                                               data-pagination="true"
                                               data-classes="table table-no-bordered"
                                               data-sort-name="name"
                                               data-sort-order="asc"
                                               data-striped="true"
                                               data-search="true"
                                               data-show-footer="true"
                                               data-show-export="true"
                                               data-show-pagination-switch="true"
                                               data-filter-control="true"
                                               data-page-list="[5,10, 25, 50, 100]"
                                               data-page-size="10">
                                            <thead>
                                                <tr>
                                                    <!-- <th  data-field="caption" data-sortable="true">Caption</th> -->
                                                    <th data-field="helper_id" data-filter-control="select" data-sortable="true">Helper id</th>
                                                    <th data-field="table_schema_name" data-filter-control="select" data-sortable="true">Table schema</br>name</th>
                                                    <th data-field="table_name" data-filter-control="input" data-sortable="true">Table</br>name</th>
                                                    <th data-field="column_name" data-filter-control="input" data-sortable="true">Column</br>name</th>
                                                    <th data-field="destination_column_name" data-filter-control="input" data-sortable="true">Destination column</br>name</th>
                                                    <th data-field="data_type" data-filter-control="select" data-sortable="true">Data</br>type</th>
                                                    <th data-field="destination_data_type" data-filter-control="select" data-sortable="true">Destination data</br>type</th>
                                                    <th data-field="different_data_type" data-filter-control="select" data-sortable="true">Different data</br>type</th>
                                                </tr>
                                            </thead>
                                        </table>
                                        <br />
                                        <p><strong>Information Source DB: </strong>{{Name}}_MD</p>
                                        <p><strong>Information Source Table: </strong>md.Source_Schema</p>
                                        <br /><hr /><br />
                                    </div> <!--tipos datos-->
                                    <div class="tab" id="tabpk_origen">
                                        <h2>Source Primary Keys</h2>
                                        <table id="table-sourcepk"
                                               data-show-columns="true"
                                               data-pagination="true"
                                               data-classes="table table-no-bordered"
                                               data-sort-name="name"
                                               data-sort-order="asc"
                                               data-striped="true"
                                               data-search="true"
                                               data-show-footer="true"
                                               data-show-export="true"
                                               data-show-pagination-switch="true"
                                               data-filter-control="true"
                                               data-page-list="[5,10, 25, 50, 100]"
                                               data-page-size="10">
                                            <thead>
                                                <tr>
                                                    <!-- <th  data-field="caption" data-sortable="true">Caption</th> -->
                                                    <th data-field="source_object_schema" data-filter-control="select" data-sortable="true">Source object schema</th>
                                                    <th data-field="source_object_name" data-filter-control="input" data-sortable="true">Source object name</th>
                                                    <th data-field="primary_key_columns" data-filter-control="input" data-sortable="true">Primary key columns</th>
                                                </tr>
                                            </thead>
                                        </table>
                                        <br />
                                        <p><strong>Information Source DB: </strong>{{Name}}_MD</p>
                                        <p><strong>Information Source Table: </strong>md.extract_phase_info</p>
                                        <br />
                                        <a href="{{wiki_url}}/etl-with-aba-framework/naming-conventions#extraction" target="_blank" type="button" class="btn btn-primary btn-block">Wiki E Phase naming conventions</a>
                                        <br /><hr /><br />
                                    </div> <!--pk origen-->
                                    <div class="tab" id="tabactive_for">
                                        <h2>Active for load / creation / orquestator</h2>
                                        <table id="table-activefor"
                                               data-show-columns="true"
                                               data-pagination="true"
                                               data-classes="table table-no-bordered"
                                               data-sort-name="name"
                                               data-sort-order="asc"
                                               data-striped="true"
                                               data-search="true"
                                               data-show-footer="true"
                                               data-show-export="true"
                                               data-show-pagination-switch="true"
                                               data-filter-control="true"
                                               data-page-list="[5,10, 25, 50, 100]"
                                               data-page-size="10">
                                            <thead>
                                                <tr>
                                                    <!-- <th  data-field="caption" data-sortable="true">Caption</th> -->
                                                    <th data-field="source_object_schema" data-filter-control="select" data-sortable="true">Source object</br>schema</th>
                                                    <th data-field="source_object_name" data-filter-control="input" data-sortable="true">Source object</br>name</th>
                                                    <th data-field="active_for_load" data-filter-control="select" data-sortable="true">Active</br>for load</th>
                                                    <th data-field="active_for_creation" data-filter-control="select" data-sortable="true">Active</br>for creation</th>
                                                    <th data-field="active_for_orquestator" data-filter-control="select" data-sortable="true">Active</br>for orquestator</th>
                                                </tr>
                                            </thead>
                                        </table>
                                        <br />
                                        <p><strong>Information Source DB: </strong>{{Name}}_MD</p>
                                        <p><strong>Information Source Table: </strong>md.extract_phase_info</p>
                                        <br />
                                        <a href="{{wiki_url}}/framework-databases#epi" target="_blank" type="button" class="btn btn-primary btn-block">Wiki Extraction Phase Info columns</a>
                                        <br />
                                    </div> <!-- active for -->
                                    <!--FASE DE CARGA-->
                                    <div class="tab" id="tabdimensiones">
                                        <h2>Dimensions</h2>
                                        <table id="table-dimensions"
                                               data-show-columns="true"
                                               data-pagination="true"
                                               data-classes="table table-no-bordered"
                                               data-sort-name="name"
                                               data-sort-order="asc"
                                               data-striped="true"
                                               data-search="true"
                                               data-show-footer="true"
                                               data-show-export="true"
                                               data-show-pagination-switch="true"
                                               data-filter-control="true"
                                               data-page-list="[5,10, 25, 50, 100]"
                                               data-page-size="10">
                                            <thead>
                                                <tr>
                                                    <!-- <th  data-field="caption" data-sortable="true">Caption</th> -->
                                                    <th data-field="source_table_name" data-filter-control="input" data-sortable="true">Source table</br>name</th>
                                                    <th data-field="destination_table_name" data-filter-control="input" data-sortable="true">Destination table</br>name</th>
                                                    <th data-field="active_for_creation" data-filter-control="select" data-sortable="true">Active</br>for creation</th>
                                                    <th data-field="active_for_load" data-filter-control="select" data-sortable="true">Active</br>for load</th>
                                                    <th data-field="primary_key_columns" data-filter-control="input" data-sortable="true">Primary key</br>columns</th>
                                                    <th data-field="detect_deletes" data-filter-control="select" data-sortable="true">Detect</br>deletes</th>
                                                    <th data-field="order_group" data-filter-control="select" data-sortable="true">Order</br>group</th>
                                                </tr>
                                            </thead>
                                        </table>
                                        <br />
                                        <p><strong>Information Source DB: </strong>{{Name}}_MD</p>
                                        <p><strong>Information Source Table: </strong>md.dimensions_load_phase_info</p>
                                        <br />
                                        <a href="{{wiki_url}}/etl-with-aba-framework/load" target="_blank" type="button" class="btn btn-primary btn-block">Wiki Loading Phase</a>
                                        <a href="{{wiki_url}}/etl-with-aba-framework/naming-conventions#load" target="_blank" type="button" class="btn btn-primary btn-block">Wiki Naming Conventions Loading Phase</a>
                                        <br />

                                    </div> <!--dimensions-->
                                    <div class="tab" id="tabfacts">
                                        <h2>Fact tables</h2>
                                        <table id="table-facts"
                                               data-show-columns="true"
                                               data-pagination="true"
                                               data-classes="table table-no-bordered"
                                               data-sort-name="name"
                                               data-sort-order="asc"
                                               data-striped="true"
                                               data-search="true"
                                               data-show-footer="true"
                                               data-show-export="true"
                                               data-show-pagination-switch="true"
                                               data-filter-control="true"
                                               data-page-list="[5,10, 25, 50, 100]"
                                               data-page-size="10">
                                            <thead>
                                                <tr>
                                                    <!-- <th  data-field="caption" data-sortable="true">Caption</th> -->
                                                    <th data-field="source_table_name" data-filter-control="input" data-sortable="true">Source table</br>name</th>
                                                    <th data-field="destination_table_name" data-filter-control="input" data-sortable="true">Destination table</br>name</th>
                                                    <th data-field="active_for_creation" data-filter-control="select" data-sortable="true">Active</br>for creation</th>
                                                    <th data-field="active_for_load" data-filter-control="select" data-sortable="true">Active</br>for load</th>
                                                    <th data-field="primary_key_columns" data-filter-control="input" data-sortable="true">Primary key</br>columns</th>
                                                    <th data-field="detect_deletes" data-filter-control="select" data-sortable="true">Detect</br>deletes</th>
                                                </tr>
                                            </thead>
                                        </table>
                                        <br />
                                        <p><strong>Information Source DB: </strong>{{Name}}_MD</p>
                                        <p><strong>Information Source Table: </strong>md.load_phase_info</p>
                                        <br />
                                        <a href="{{wiki_url}}/etl-with-aba-framework/load" target="_blank" type="button" class="btn btn-primary btn-block">Wiki Loading Phase</a>
                                        <a href="{{wiki_url}}/etl-with-aba-framework/naming-conventions#load" target="_blank" type="button" class="btn btn-primary btn-block">Wiki Naming Conventions Loading Phase</a>
                                        <br />

                                    </div> <!--facts-->
                                    <div class="tab" id="tabscd">
                                        <h2>SCD</h2>
                                        <table id="table-scd"
                                               data-show-columns="true"
                                               data-pagination="true"
                                               data-classes="table table-no-bordered"
                                               data-sort-name="name"
                                               data-sort-order="asc"
                                               data-striped="true"
                                               data-search="true"
                                               data-show-footer="true"
                                               data-show-export="true"
                                               data-show-pagination-switch="true"
                                               data-filter-control="true"
                                               data-page-list="[5,10, 25, 50, 100]"
                                               data-page-size="10">
                                            <thead>
                                                <tr>
                                                    <!-- <th  data-field="caption" data-sortable="true">Caption</th> -->
                                                    <th data-field="source_table_name" data-filter-control="input" data-sortable="true">Source table</br>name</th>
                                                    <th data-field="source_column_name" data-filter-control="input" data-sortable="true">Source column</br>name</th>
                                                    <th data-field="change_type" data-filter-control="select" data-sortable="true">Change type</th>
                                                    <th data-field="type_description" data-filter-control="select" data-sortable="true">Type description</th>
                                                </tr>
                                            </thead>
                                        </table>
                                        <br />
                                        <p><strong>Information Source DB: </strong>{{Name}}_MD</p>
                                        <p><strong>Information Source Table: </strong>md.dimensions_load_phase_info_columns</p>
                                        <br />
                                        <a href="{{wiki_url}}/etl-with-aba-framework/load" target="_blank" type="button" class="btn btn-primary btn-block">Wiki Slowly Change Dimensions</a>
                                        <br />

                                    </div> <!--SCD-->
                                    <div class="tab" id="tabtipo_datos_dwh">
                                        <p>Under constrction</p>
                                    </div><!--tipo datos dwh-->
                                    <!-- Info sobre tests -->
                                    <div class="tab" id="tabunit_test">
                                        <h2>Unit Tests</h2>
                                        <table id="table-unittests"
                                               data-show-columns="true"
                                               data-pagination="true"
                                               data-classes="table table-no-bordered"
                                               data-sort-name="name"
                                               data-sort-order="asc"
                                               data-striped="true"
                                               data-search="true"
                                               data-show-footer="true"
                                               data-show-export="true"
                                               data-show-pagination-switch="true"
                                               data-filter-control="true"
                                               data-page-list="[5,10, 25, 50, 100]"
                                               data-page-size="10">
                                            <thead>
                                                <tr>
                                                    <!-- <th  data-field="caption" data-sortable="true">Caption</th> -->
                                                    <th data-field="execution_id" data-filter-control="input" data-sortable="true">Execution id</th>
                                                    <th data-field="test_name" data-filter-control="input" data-sortable="true">Test name</th>
                                                    <th data-field="test_source_object_schema" data-filter-control="input" data-sortable="true">Source schema</th>
                                                    <th data-field="test_source_object_name" data-filter-control="input" data-sortable="true">Table name</th>
                                                    <th data-field="execution_date" data-filter-control="input" data-sortable="true">Execution date</th>
                                                    <th data-field="result" data-filter-control="select" data-sortable="true">Result</th>
                                                    <th data-field="message" data-filter-control="input" data-sortable="true">Message</th>
                                                </tr>
                                            </thead>
                                        </table>
                                        <br />
                                        <a href="{{wiki_url}}/automatedtesting#main_characteristics" target="_blank" type="button" class="btn btn-primary btn-block">Wiki Unit Tests</a>
                                        <br />
                                    </div> <!-- Unit tests-->
                                    <!-- Info sobre logs -->
                                    <div class="tab" id="tablog_objects">
                                        <h2>Log Table</h2>
                                        <table id="table-logs"
                                               data-show-columns="true"
                                               data-pagination="true"
                                               data-classes="table table-no-bordered"
                                               data-sort-name="name"
                                               data-sort-order="asc"
                                               data-striped="true"
                                               data-search="true"
                                               data-show-footer="true"
                                               data-show-export="true"
                                               data-show-pagination-switch="true"
                                               data-filter-control="true"
                                               data-page-list="[5,10, 25, 50, 100]"
                                               data-page-size="10">
                                            <thead>
                                                <tr>
                                                    <!-- <th  data-field="caption" data-sortable="true">Caption</th> -->
                                                    <th data-field="schema_name" data-filter-control="select" data-sortable="true">Schema</br>name</th>
                                                    <th data-field="table_name" data-filter-control="input" data-sortable="true">Table</br>name</th>
                                                    <th data-field="type" data-filter-control="input" data-sortable="true">Type</th>
                                                    <th data-field="start_date" data-filter-control="input" data-sortable="true">Start date</th>
                                                    <th data-field="end_date" data-filter-control="input" data-sortable="true">End date</th>
                                                    <th data-field="status" data-filter-control="select" data-sortable="true">Status</th>
                                                    <th data-field="loaded_by" data-filter-control="input" data-sortable="true">Loaded by</th>
                                                    <th data-field="inserted_rows" data-filter-control="input" data-sortable="true">Inserted</br>rows</th>
                                                    <th data-field="updated_rows" data-filter-control="input" data-sortable="true">Updated</br>rows</th>
                                                    <th data-field="deleted_rows" data-filter-control="input" data-sortable="true">Deleted</br>rows</th>
                                                    <th data-field="project_name" data-filter-control="input" data-sortable="true">Project Name</th>
                                                    <th data-field="package_name" data-filter-control="input" data-sortable="true">Package Name</th>
                                                    <th data-field="hlp_id" data-filter-control="input" data-sortable="true">HLPId</th>
                                                    <th data-field="stg_id" data-filter-control="input" data-sortable="true">STGId</th>
                                                </tr>

                                                </tr>

                                            </thead>
                                        </table>
                                        <br />
                                        <a href="{{wiki_url}}/framework-databases#log-database" target="_blank" type="button" class="btn btn-primary btn-block">Wiki LOG Database</a>
                                        <br />
                                    </div> <!-- Logs-->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% for test in tests_objects -%}
    {% if test.current_error_status_desc == 'Error' %}
    <!-- Modal -->
    <div class="modal fade" id="{{test.test_name | remove: " " | remove: "."}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Error messages</h4>
                </div>
                <div class="modal-body">
                    {% for test_error_message in test.etl_test_result_messages -%}
                        <pre>{{test_error_message.message_information}}</pre>
                    {% endfor -%}
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
    {% endfor -%}
    <script>
    /* Table: Loaded tables */
    var $loadedtables_table = $('#table-loadedtables');
    var table_loadedtables_data = [
    {% for objects in extract_phase_info_objects  %}
      {
        source_object_schema:'{{objects.source_object_schema}}',
        {% if objects.source_type_id == 'VIW'  %}
             source_object_name:'<a href="ResultMetadata_HLP{{objects.Helper_Id}}.html?view={{objects.source_object_schema | downcase}}{{objects.source_object_name}}">{{objects.source_object_name |downcase}}</a>',
        {% else %}
               source_object_name:'<a href="ResultMetadata_HLP{{objects.Helper_Id}}.html?table={{objects.source_object_schema | downcase}}{{objects.source_object_name}}">{{objects.source_object_name |downcase}}</a>',
        {% endif %}
        destination_table_schema:'{{objects.destination_table_Schema}}',
        destination_table_name:'<a href="ResultMetadata_STG{{objects.STG_Id}}.html?table={{objects.destination_table_Schema | downcase}}{{objects.destination_table_name}}">{{objects.destination_table_name |downcase}}</a>',
        source_type_id:'{{objects.source_type_id}}',
        helper_id:'{{objects.Helper_Id}}',
        staging_id:'{{objects.STG_Id}}'
      },
    {% endfor %}
    ];
    $loadedtables_table.bootstrapTable({data: table_loadedtables_data});

    /* Table: Connections */
    var $connections_table = $('#table-connections');
    var table_connections_data = [
        {% for connection in Connections  %}
          {
            {% if connection.Connection_Type == 'HLP' or connection.Connection_Type == 'STG' or connection.Connection_Type == 'DWH' %}
                connection_name:'<a href="ResultMetadata_{{connection.Connection_Type}}{{connection.connection_Id}}.html">{{connection.Connection_Type}}-{{connection.connection_id}}</a>',
            {% else %}
                connection_name:'<a href="ResultMetadata_{{connection.Connection_Type}}.html">{{connection.Connection_Type}}-{{connection.connection_id}}</a>',
            {% endif %}
            connection_string:'{{connection.Connection_String}}',
            db_schemas:'{{connection.db_schemas}}'
        },
        {% endfor %}
    ];
    $connections_table.bootstrapTable({data: table_connections_data});


    /* Table: Loaded patterns */
    var $loadpatterns_table = $('#table-loadpatterns');
        var table_loadpatterns_data = [
    {% for objects in extract_phase_info_objects  %}
      {
          source_object_schema:'{{objects.source_object_schema}}',
        {% if objects.source_type_id == 'VIW'  %}
              source_object_name:'<a href="ResultMetadata_HLP{{objects.Helper_Id}}.html?view={{objects.source_object_schema | downcase}}{{objects.source_object_name}}">{{objects.source_object_name |downcase}}</a>',
        {% else %}
            source_object_name:'<a href="ResultMetadata_HLP{{objects.Helper_Id}}.html?table={{objects.source_object_schema | downcase}}{{objects.source_object_name}}">{{objects.source_object_name |downcase}}</a>',
        {% endif %}
            load_pattern_id:'{{objects.load_pattern_id}}',
            load_pattern:'<a href="{{wiki_url}}/etl-with-aba-framework/patterns#{{objects.load_pattern_id |downcase}}" target="_blank" type="button" class="btn btn-primary btn-sm btn-block">{{objects.load_pattern}}</a>'

    },
    {% endfor %}
    ];
    $loadpatterns_table.bootstrapTable({data: table_loadpatterns_data});


    /* Table: Data types */
    var $datatypes_table = $('#table-datatypes');
    var table_datatypes_data = [
        {% for objects in extract_phase_info_objects -%}
        {% for schemas in objects.Source_schemas -%}
          {
            helper_id:'{{schemas.Helper_Id}}',
            table_schema_name:'{{schemas.table_schema_name}}',
            table_name:'{{schemas.Table_Name}}',
            column_name:'{{schemas.Column_Name}}',
            destination_column_name:'{{schemas.Destination_Column_Name}}',
            data_type:'{{schemas.Data_Type}}',
            destination_data_type:'{{schemas.Destination_Data_Type}}',
            different_data_type: '{{schemas.Different_Data_Type}}'
         },
        {% endfor %}
        {% endfor -%}
    ];
    $datatypes_table.bootstrapTable({data: table_datatypes_data});

    /* Table: Source primary keys */
    var $sourcepk_table = $('#table-sourcepk');
    var table_sourcepk_data = [
    {% for objects in extract_phase_info_objects  %}
      {
          source_object_schema:'{{objects.source_object_schema}}',
      {% if objects.source_type_id == 'VIW'  %}
              source_object_name:'<a href="ResultMetadata_HLP{{objects.Helper_Id}}.html?view={{objects.source_object_schema | downcase}}{{objects.source_object_name}}">{{objects.source_object_name |downcase}}</a>',
    {% else %}
            source_object_name:'<a href="ResultMetadata_HLP{{objects.Helper_Id}}.html?table={{objects.source_object_schema | downcase}}{{objects.source_object_name}}">{{objects.source_object_name |downcase}}</a>',
    {% endif %}
        primary_key_columns:'{{objects.primary_key_columns}}'

        },
    {% endfor %}
    ];
    $sourcepk_table.bootstrapTable({data: table_sourcepk_data});

    /* Table: Active for */
    var $activefor_table = $('#table-activefor');
    var table_activefor_data = [
    {% for objects in extract_phase_info_objects  %}
      {
          source_object_schema:'{{objects.source_object_schema}}',
      {% if objects.source_type_id == 'VIW'  %}
              source_object_name:'<a href="ResultMetadata_HLP{{objects.Helper_Id}}.html?view={{objects.source_object_schema | downcase}}{{objects.source_object_name}}">{{objects.source_object_name |downcase}}</a>',
    {% else %}
            source_object_name:'<a href="ResultMetadata_HLP{{objects.Helper_Id}}.html?table={{objects.source_object_schema | downcase}}{{objects.source_object_name}}">{{objects.source_object_name |downcase}}</a>',
    {% endif %}
        active_for_load:'{{objects.active_for_load}}',
        active_for_creation:'{{objects.active_for_creation}}',
        active_for_orquestator:'{{objects.active_for_orquestator}}'

    },
    {% endfor %}
    ];
    $activefor_table.bootstrapTable({data: table_activefor_data});

    /* Table: Dimensions */
    var $dimensions_table = $('#table-dimensions');
    var table_dimensions_data = [
    {%  for dims in dim_objects  -%}
        {
        source_table_name:'<a href="ResultMetadata_STG{{dims.stg_id}}.html?view={{dims.source_schema}}{{dims.source_table_name | url_encode | replace:'%','_'}}">{{dims.source_table_name}}</a>',
        destination_table_name:'<a href="ResultMetadata_DWH{{dims.dwh_id}}.html?view=dim{{dims.destination_table_name | url_encode | replace:'%','_'}}">{{dims.destination_table_name}}</a>',
        active_for_creation:'{{dims.active_for_creation}}',
        active_for_load:'{{dims.active_for_load}}',
        primary_key_columns:'{{dims.primary_key_columns}}',
        detect_deletes:'{{dims.Detect_Deletes}}',
        order_group:'{{dims.Order_Group}}'
        },
    {% endfor %}
    ];
    $dimensions_table.bootstrapTable({data: table_dimensions_data});

    /* Table: Facts */
    var $facts_table = $('#table-facts');
    var table_facts_data = [
    {%  for facts in fact_objects  -%}
        {
            source_table_name:'<a href="ResultMetadata_STG{{facts.stg_id}}.html?view=etl{{facts.source_schema}}{{facts.source_table_name | url_encode | replace:'%','_'}}">{{facts.source_table_name}}</a>',
            destination_table_name:'<a href="ResultMetadata_DWH{{facts.dwh_id}}.html?view=dim{{facts.destination_table_name | url_encode | replace:'%','_'}}">{{facts.destination_table_name}}</a>',
            active_for_creation:'{{facts.active_for_creation}}',
            active_for_load:'{{facts.active_for_load}}',
            primary_key_columns:'{{facts.primary_key_columns}}',
            detect_deletes:'{{facts.Detect_Deletes}}',
            order_group:'{{facts.Order_Group}}'
        },
        {% endfor %}
    ];
    $facts_table.bootstrapTable({data: table_facts_data});


    /* Table: SCD */
    var $scd_table = $('#table-scd');
    var table_scd_data = [
        {% for dims in dim_objects -%}
        {% for col in dims.dim_columns -%}
            {
            source_table_name:'<a href="ResultMetadata_STG{{dims.stg_id}}.html?view=etl{{col.source_table_name | url_encode | replace:'%','_'}}">{{col.source_table_name}}</a>',
            source_column_name:'{{col.source_column_name}}',
            change_type:'{{col.change_Type}}',
            type_description:'{{col.type_description}}'
            },
        {% endfor %}
        {% endfor %}
    ];
    $scd_table.bootstrapTable({data: table_scd_data});

    /* Table: Unit Tests*/
    var $unittests_table = $('#table-unittests');
    var table_unittests_data = [
        {% for test in tests_objects -%}
            {
            execution_id:'{{test.id}}',
            test_name:'{{test.test_name}}',
            execution_date:'{{test.execution_date}}',
            source_object_name:'{{test.source_table_name}}',
            result:'{{test.current_error_status_desc}}',
            executed:'{{test.executed}}',
            test_source_object_schema:'{{test.source_schema}}',
            test_source_object_name:'{{test.source_table_name}}',
            {% if test.current_error_status_desc == 'Error' %}
            message:'<button type="button" class="btn btn-danger btn-xs" data-toggle="modal" data-target="#{{test.test_name | remove: " " | remove: "."}}">See message</button>'
            {% else %}
            message:''
            {% endif %}
            },
        {% endfor %}
    ];
    $unittests_table.bootstrapTable({data: table_unittests_data});

    /* Table: Logs*/
    var $logs_table = $('#table-logs');
        var table_logs_data = [
        {% for logs in etl_objects -%}
        {
            schema_name:'{{logs.schema_name}}',
            table_name:'{{logs.table_name}}',
            type:'{{logs.type}}',
            start_date:'{{logs.start_date}}',
            end_date:'{{logs.end_date}}',
            status:'{{logs.status}}',
            loaded_by:'{{logs.loaded_by}}',
            inserted_rows:'{{logs.inserted_rows}}',
            updated_rows:'{{logs.updated_rows}}',
            deleted_rows:'{{logs.deleted_rows}}',
            project_name:'{{logs.project_name}}',
            package_name:'{{logs.package_name}}',
            hlp_id:'{{logs.HLP_Id}}',
            stg_id:'{{logs.STG_Id}}'
        },
        {% endfor %}
    ];
    $logs_table.bootstrapTable({data: table_logs_data});



    </script>
</body>
</html>
